{% extends "base.html" %}

{% block content %}
<h2>📝 新規値付けフォーム</h2>

<style>
  /* スピンボタン非表示 */
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  input[type=number] {
    -moz-appearance: textfield;
  }
  form div {
    margin-bottom: 1em;
  }
  label {
    display: inline-block;
    width: 120px;
  }
  input, select {
    padding: 4px 8px;
  }
</style>

<form method="POST" action="{{ url_for('routes.new_estimation') }}">
  {{ form.hidden_tag() }}

  <!-- ✅ メーカー：選択＋手入力 -->
  <div>
    {{ form.maker_select.label }} {{ form.maker_select() }}
  </div>
  <div>
    {{ form.maker_manual.label }} {{ form.maker_manual(size=30) }}
  </div>

  <div>
    {{ form.car_name.label }} {{ form.car_name(size=30) }}
  </div>

  <div>
    {{ form.model_code.label }} {{ form.model_code(size=30) }}
  </div>

  <div>
    {{ form.estimate_price.label }} {{ form.estimate_price(min=0) }}
  </div>

 <!-- ✅ 依頼元：選択 or 手入力 -->
  <div>
    {{ form.client_select.label }} {{ form.client_select() }}
  </div>
  <div>
    {{ form.client_manual.label }} {{ form.client_manual(size=30) }}
  </div>
  <div>
    {{ form.sale_price.label }} {{ form.sale_price(min=0) }}
  </div>

  <!-- ✅ 販売先：選択＋手入力 -->
  <div>
    {{ form.buyer_select.label }} {{ form.buyer_select() }}
  </div>
  <div>
    {{ form.buyer_manual.label }} {{ form.buyer_manual(size=30) }}
  </div>

  <div>
    {{ form.sold_at.label }} {{ form.sold_at() }}
  </div>

  <div>
    {{ form.note.label }} {{ form.note(size=30) }}
  </div>

  <button type="submit">💾 登録</button>
  <a href="{{ url_for('routes.list_vehicles') }}">
    <button type="button">↩ 戻る</button>
  </a>
</form>
{% endblock %}
